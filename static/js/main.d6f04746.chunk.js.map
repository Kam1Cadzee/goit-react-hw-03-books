{"version":3,"sources":["components/BookSearch/BookList/BookListItem/BookListItem.module.css","components/BookSearch/SearchForm/SearchForm.module.css","components/BookSearch/BookList/BookList.module.css","components/Error/ErrorFetch.module.css","components/BookSearch/SearchForm/SearchForm.jsx","components/BookSearch/BookList/BookListItem/BookListItem.jsx","components/BookSearch/BookList/BookList.jsx","components/Error/ErrorFetch.jsx","components/BookSearch/BookSearch.jsx","index.js","components/BookSearch/BookSearch.module.css"],"names":["module","exports","container","main","description","image","info","error","SearchForm","state","query","genre","handleChange","e","_e$target","target","name","value","_this","setState","Object","defineProperty","handleSubmit","preventDefault","_this$state","onSubmit","props","genres","this","_this$state2","react_default","a","createElement","className","css","type","onChange","onBlur","disabled","map","item","key","onClick","React","Component","BookListItem","title","author","publisher","publishedDate","pageCount","rating","src","alt","defaultProps","BookList","_ref","items","length","BookList_BookListItem_BookListItem","assign","id","ErrorFetch","text","console","log","Loader","NO_IMAGE","BookSearch","isLoading","fetchBooks","url","concat","mapDataToBook","volumeInfo","authors","imageLinks","join","smallThumbnail","averageRating","fetch","then","res","json","data","catch","finally","BookSearch_SearchForm_SearchForm","Error_ErrorFetch","message","RotateLoader_default","loading","color","size","margin","BookSearch_BookList_BookList","ReactDOM","render","components_BookSearch_BookSearch","document","getElementById"],"mappings":"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","file":"static/js/main.d6f04746.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BookListItem_container__27Be0\",\"main\":\"BookListItem_main__NXdHc\",\"description\":\"BookListItem_description__1FPbg\",\"image\":\"BookListItem_image__1C2E7\",\"info\":\"BookListItem_info__zn1JO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"SearchForm_container__3aFpz\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BookList_container__2XHaw\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"error\":\"ErrorFetch_error__3SLo2\"};","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './SearchForm.module.css';\n\nclass SearchForm extends React.Component {\n  state = {\n    query: '',\n    genre: '',\n  };\n\n  handleChange = e => {\n    const { name, value } = e.target;\n    this.setState({ [name]: value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n    const { genre, query } = this.state;\n    const { onSubmit } = this.props;\n    onSubmit(query, genre);\n  };\n\n  render() {\n    const { genres } = this.props;\n    const { genre, query } = this.state;\n\n    return (\n      <div className={css.container}>\n        <form>\n          <input\n            name=\"query\"\n            type=\"text\"\n            value={query}\n            onChange={this.handleChange}\n          />\n          <select\n            name=\"genre\"\n            value={genre}\n            onChange={this.handleChange}\n            onBlur={() => null}\n          >\n            <option value=\"\" disabled>\n              Choose here\n            </option>\n            {genres.map(item => (\n              <option key={item} value={item}>\n                {item}\n              </option>\n            ))}\n          </select>\n          <input type=\"submit\" value=\"Search\" onClick={this.handleSubmit} />\n        </form>\n      </div>\n    );\n  }\n}\n\nSearchForm.propTypes = {\n  genres: PropTypes.arrayOf(PropTypes.string).isRequired,\n  onSubmit: PropTypes.func.isRequired,\n};\nexport default SearchForm;\n","import React from 'react';\nimport css from './BookListItem.module.css';\nimport PropTypes from 'prop-types';\n\nconst BookListItem = props => {\n  const {\n    title,\n    image,\n    description,\n    author,\n    publisher,\n    publishedDate,\n    pageCount,\n    rating,\n  } = props;\n  return (\n    <div className={css.container}>\n      <div className={css.main}>\n        <div className={css.image}>\n          <img src={image} alt=\"\" />\n        </div>\n        <div className={css.info}>\n          <h1>Название: {title}</h1>\n          <p>Автор: {author}</p>\n          <p className={css.description}>Описание: {description}</p>\n        </div>\n      </div>\n      <div>\n        <p>\n          <strong>Издатель: </strong>\n          {publisher}\n          <strong> Год: </strong>\n          {publishedDate}\n        </p>\n        <p>\n          <strong>Кол-во страниц: </strong>\n          {pageCount} <strong>Рейтинг: </strong> {rating}\n        </p>\n      </div>\n    </div>\n  );\n};\n\nBookListItem.propTypes = {\n  title: PropTypes.string.isRequired,\n  image: PropTypes.string.isRequired,\n  description: PropTypes.string,\n  publisher: PropTypes.string,\n  author: PropTypes.string.isRequired,\n  publishedDate: PropTypes.string,\n  pageCount: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  rating: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n};\nBookListItem.defaultProps = {\n  description: '',\n  rating: 'N/A',\n  pageCount: 'N/A',\n  publishedDate: 'N/A',\n  publisher: '',\n};\nexport default BookListItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './BookList.module.css';\nimport BookListItem from './BookListItem/BookListItem';\n\nconst BookList = ({ items }) => {\n  return (\n    <div className={css.container}>\n      {items.length === 0 ? (\n        <p>Ничего не найдено</p>\n      ) : (\n        items.map(item => <BookListItem key={item.id} {...item} />)\n      )}\n    </div>\n  );\n};\n\nBookList.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.object),\n};\nBookList.defaultProps = {\n  items: [],\n};\nexport default BookList;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport css from './ErrorFetch.module.css';\n\nconst ErrorFetch = ({ text }) => <p className={css.error}>{text}</p>;\nErrorFetch.propTypes = {\n  text: PropTypes.string.isRequired,\n};\nexport default ErrorFetch;\n","import React from 'react';\nimport Loader from 'halogen/RotateLoader';\nimport css from './BookSearch.module.css';\nimport SearchForm from './SearchForm/SearchForm';\nimport BookList from './BookList/BookList';\nimport genres from '../../genres';\nimport ErrorFetch from '../Error/ErrorFetch';\n\nconsole.log(Loader);\nconst NO_IMAGE =\n  'https://cdn.samsung.com/etc/designs/smg/global/imgs/support/cont/NO_IMG_600x600.png';\n\nclass BookSearch extends React.Component {\n  state = {\n    items: [],\n    isLoading: false,\n    error: null,\n  };\n\n  handleSubmit = (query, genre) => {\n    this.setState({ isLoading: true });\n    this.fetchBooks(query, genre);\n  };\n\n  fetchBooks = (query, genre) => {\n    const url = `https://www.googleapis.com/books/v1/volumes?q=${query}+subject:${genre}`;\n    const mapDataToBook = item => {\n      const info = item.volumeInfo;\n      const { authors, imageLinks } = info;\n\n      let author = 'No name';\n      let image = NO_IMAGE;\n\n      if (authors) {\n        author = authors.join(', ');\n      }\n      if (imageLinks && imageLinks.smallThumbnail) {\n        image = imageLinks.smallThumbnail;\n      }\n\n      return {\n        id: item.id,\n        title: info.title,\n        publisher: info.publisher,\n        publishedDate: info.publishedDate,\n        pageCount: info.pageCount,\n        rating: info.averageRating,\n        description: info.description,\n        author,\n        image,\n      };\n    };\n\n    fetch(url)\n      .then(res => res.json())\n      .then(data => {\n        const items = data.items ? data.items.map(mapDataToBook) : [];\n        this.setState({ items });\n      })\n      .catch(error => this.setState({ error }))\n      .finally(() => this.setState({ isLoading: false }));\n  };\n\n  render() {\n    const { items, isLoading, error } = this.state;\n\n    return (\n      <div className={css.container}>\n        <SearchForm genres={genres} onSubmit={this.handleSubmit} />\n        {error ? <ErrorFetch text={error.message} /> : null}\n        {isLoading ? (\n          <Loader\n            className={css.loading}\n            color=\"#26A65B\"\n            size=\"16px\"\n            margin=\"4px\"\n          />\n        ) : (\n          <BookList items={items} />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default BookSearch;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport BookSearch from './components/BookSearch/BookSearch';\n\nReactDOM.render(<BookSearch />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"container\":\"BookSearch_container__3IK0_\",\"loading\":\"BookSearch_loading__3mA8l\"};"],"sourceRoot":""}